import{generateId as e,buildBlockData as t,Blocks as i,Elements as o,UI as r,useYooptaEditor as d,useBlockData as n,YooptaPlugin as a}from"@yoopta/editor";import{jsxs as l,jsx as s}from"react/jsx-runtime";import*as c from"react";const h={buildDividerElements:(t,i={})=>({id:e(),type:"divider",children:[{text:""}],props:{color:i.color||"#EFEFEE",theme:i.theme||"solid",nodeType:"void"}}),insertDivider:(e,o={})=>{const{at:r,focus:d}=o,n=h.buildDividerElements(e),a=t({value:[n],type:"Divider"});i.insertBlock(e,a.type,{at:r,focus:d,blockData:a})},deleteDivider:(e,t)=>{i.deleteBlock(e,{blockId:t})},updateDivider:(e,t,i)=>{o.updateElement(e,t,{type:"divider",props:Object.assign({},i)})}},p=["solid","dashed","dotted","gradient"];function v(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(i[o[r]]=e[o[r]])}return i}var y;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},u.apply(null,arguments)}"function"==typeof SuppressedError&&SuppressedError;var m,b=function(e){return c.createElement("svg",u({width:15,height:15,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),y||(y=c.createElement("path",{d:"M1.25 7.5a.5.5 0 0 1 .5-.5h11.5a.5.5 0 0 1 0 1H1.75a.5.5 0 0 1-.5-.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})))};function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},g.apply(null,arguments)}var f,w=function(e){return c.createElement("svg",g({width:15,height:15,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),m||(m=c.createElement("path",{d:"M3.625 7.5a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0Zm5 0a1.125 1.125 0 1 1-2.25 0 1.125 1.125 0 0 1 2.25 0ZM12.5 8.625a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})))};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},x.apply(null,arguments)}var E,k=function(e){return c.createElement("svg",x({width:15,height:15,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),f||(f=c.createElement("path",{d:"M0 7.5A.5.5 0 0 1 .5 7H3a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5Zm5.75 0a.5.5 0 0 1 .5-.5h2.5a.5.5 0 0 1 0 1h-2.5a.5.5 0 0 1-.5-.5ZM12 7a.5.5 0 0 0 0 1h2.5a.5.5 0 0 0 0-1H12Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})))};function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},O.apply(null,arguments)}var j=function(e){return c.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"checkmark_svg__lucide checkmark_svg__lucide-check"},e),E||(E=c.createElement("path",{d:"M20 6 9 17l-5-5"})))};const{ExtendedBlockActions:N,BlockOptionsMenuGroup:C,BlockOptionsMenuItem:D,BlockOptionsSeparator:F}=r,$=({editor:e,block:t,props:i})=>{const r=i=>{o.updateElement(e,t.id,{type:"divider",props:{theme:i}})},d=e=>(null==i?void 0:i.theme)===e;return l(N,Object.assign({onClick:()=>e.setPath({current:t.meta.order}),className:"yoopta-divider-options"},{children:[s(F,{}),l(C,{children:[s(D,{children:l("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("solid")},{children:[l("span",Object.assign({className:"yoo-divider-flex"},{children:[s(b,{width:16,height:16,className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2"}),"Line"]})),d("solid")&&s(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))}),s(D,{children:l("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("dashed")},{children:[l("span",Object.assign({className:"yoo-divider-flex"},{children:[s(k,{width:16,height:16,color:"tranparent",className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2"}),"Dashed"]})),d("dashed")&&s(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))}),s(D,{children:l("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("dotted")},{children:[l("span",Object.assign({className:"yoo-divider-flex"},{children:[s(w,{width:16,height:16,className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2"}),"Dots"]})),d("dotted")&&s(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))}),s(D,{children:l("button",Object.assign({type:"button",className:"yoopta-block-options-button yoo-divider-justify-between",onClick:()=>r("gradient")},{children:[l("span",Object.assign({className:"yoo-divider-flex"},{children:[s(b,{width:14,height:16,className:"yoo-divider-w-4 yoo-divider-h-4 yoo-divider-mr-2",color:(null==i?void 0:i.color)||"#EFEFEE"}),"Gradient"]})),d("gradient")&&s(j,{width:16,height:16,color:"#000",className:"yoo-divider-w-4 yoo-divider-h-4"})]}))})]})]}))},B=new a({type:"Divider",elements:{divider:{render:e=>{var t,i,{extendRender:o}=e,r=v(e,["extendRender"]);const a=r.HTMLAttributes||{},{className:c=""}=a,h=v(a,["className"]),p=d(),y=n(r.blockId);if(o)return o(r);const u=(null===(t=r.element.props)||void 0===t?void 0:t.color)||"#e5e7eb",m=(null===(i=r.element.props)||void 0===i?void 0:i.theme)||"solid";return l("div",Object.assign({onClick:e=>{p.setPath({current:y.meta.order,selected:[y.meta.order]})}},h,{className:`${c} yoopta-divider`},r.attributes,{contentEditable:!1},{children:[!p.readOnly&&s($,{block:y,editor:p,props:r.element.props}),(()=>{switch(m){case"dashed":return s("hr",{className:"yoopta-divider-dashed",style:{borderColor:u}});case"dotted":return l("div",Object.assign({className:"yoopta-divider-dotted"},{children:[s("div",{style:{backgroundColor:u}}),s("div",{style:{backgroundColor:u}}),s("div",{style:{backgroundColor:u}})]}));case"gradient":return s("div",{className:"yoopta-divider-gradient",style:{background:`linear-gradient(to right, transparent, ${u}, transparent)`}});default:return s("hr",{className:"yoopta-divider-solid",style:{borderColor:u}})}})(),r.children]}))},props:{nodeType:"void",theme:"solid",color:"#EFEFEE"}}},options:{display:{title:"Divider",description:"Divide your blocks"},shortcuts:["---","divider","line"]},parsers:{html:{deserialize:{nodeNames:["HR"],parse:t=>{const i=t.getAttribute("data-meta-theme")||"solid",o=t.getAttribute("data-meta-color")||"#EFEFEE";return{id:e(),type:"divider",props:{nodeType:"void",theme:i,color:o},children:[{text:""}]}}},serialize:(e,t,i)=>{const{theme:o="solid",color:r="#EFEFEE"}=e.props||{};return`<hr data-meta-theme="${o}" data-meta-color="${r}" style="background-color: #8383e0; height: 1.2px" />`}},markdown:{serialize:(e,t)=>"---\n"},email:{serialize:(e,t,i)=>{const{theme:o="solid",color:r="#EFEFEE"}=e.props||{};let d=`<hr data-meta-theme="${o}" data-meta-color="${r}" style="border-color: ${r}; background-color: ${r}; height: 1.2px;" />`;return"gradient"===o&&(d=`<hr data-meta-theme="${o}" data-meta-color="${r}" style="background: linear-gradient(to right, transparent, ${r}, transparent); height: 2px; width: 100%;" />`),`\n        <table style="width: 100%;">\n          <tbody style="width: 100%;">\n            <tr>\n              <td>${d}</td>\n            </tr>\n          </tbody>\n        </table>`}}},commands:h,events:{onKeyDown:function(e,t,{hotkeys:i,currentBlock:r}){return t=>{if(i.isCmdShiftD(t)){t.preventDefault();const i=o.getElement(e,r.id,{type:"divider"}),d=p[(p.indexOf(i.props.theme)+1)%p.length];o.updateElement(e,r.id,{type:"divider",props:{theme:d}})}}}}});!function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".yoo-divider-mr-2{margin-right:.5rem}.yoo-divider-flex{display:flex}.yoo-divider-h-4{height:1rem}.yoo-divider-w-4{width:1rem}.yoo-divider-justify-between{justify-content:space-between}.yoopta-divider .yoopta-divider-options{color:#000;opacity:0;right:3px;top:3px;transition:opacity .15s ease-in-out}.yoopta-divider:hover .yoopta-divider-options{opacity:1}.yoopta-divider{align-items:center;color:#e5e7eb;display:flex;height:20px;justify-content:center;pointer-events:auto;width:100%}.yoopta-divider-line{border-bottom:2px solid;height:1px;visibility:visible;width:100%}.yoopta-divider-solid{border-bottom:2px solid;border-bottom-style:solid;height:1px;visibility:visible;width:100%}.yoopta-divider-dashed{border-bottom:2px solid;border-bottom-style:dashed;height:1px;visibility:visible;width:100%}.yoopta-divider-dotted{align-items:center;border-bottom:2px solid;border-bottom:none;display:flex;height:3px;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;visibility:visible;width:100%}.yoopta-divider-dotted div{border-radius:50%;margin-right:10px;max-height:3px;max-width:3px;min-height:3px;min-width:3px}.yoopta-divider-dotted div:last-child{margin-right:0}.yoopta-divider-gradient{height:2px;width:100%}");export{h as DividerCommands,B as default};
